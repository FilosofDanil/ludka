<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Ludik Casino</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <!-- Header with balance -->
        <header class="header">
            <div class="header-top">
                <h1>Ludik Casino</h1>
                <button class="btn-icon" id="historyBtn" title="Game History">
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                </button>
            </div>
            <div class="balance-bar">
                <span class="balance-label">Balance</span>
                <span class="balance-amount" id="balanceAmount">0.00</span>
                <button type="button" class="btn-deposit" id="depositBtn" title="Add playing scores">+ Deposit</button>
            </div>
        </header>

        <main class="main">
            <!-- Game Switcher -->
            <nav class="game-switcher">
                <button class="game-tab active" data-game="dice">
                    <span class="game-tab-icon">&#127922;</span>
                    <span class="game-tab-label">Dice</span>
                </button>
                <button class="game-tab" data-game="roulette">
                    <span class="game-tab-icon">&#127920;</span>
                    <span class="game-tab-label">Roulette</span>
                </button>
            </nav>

            <!-- ======== DICE GAME ======== -->
            <div class="game-panel active" id="game-dice">
                <section class="dice-arena">
                    <div class="dice-result-info" id="resultInfo"></div>
                    <div class="dice-container" id="diceContainer">
                        <div class="dice" id="dice">
                            <div class="dice-face" id="diceFace">?</div>
                        </div>
                    </div>
                    <div class="last-results" id="lastResults"></div>
                </section>

                <section class="bet-controls">
                    <div class="control-group">
                        <label class="control-label">Target Number</label>
                        <div class="target-selector">
                            <button class="target-btn" data-target="1">1</button>
                            <button class="target-btn" data-target="2">2</button>
                            <button class="target-btn active" data-target="3">3</button>
                            <button class="target-btn" data-target="4">4</button>
                            <button class="target-btn" data-target="5">5</button>
                            <button class="target-btn" data-target="6">6</button>
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Your Bet</label>
                        <div class="direction-selector">
                            <button class="direction-btn active" data-direction="higher" id="btnHigher">
                                <span class="direction-arrow">&#9650;</span>
                                <span class="direction-text">Higher</span>
                                <span class="direction-coef" id="coefHigher">1.96x</span>
                            </button>
                            <button class="direction-btn" data-direction="lower" id="btnLower">
                                <span class="direction-arrow">&#9660;</span>
                                <span class="direction-text">Lower</span>
                                <span class="direction-coef" id="coefLower">1.96x</span>
                            </button>
                        </div>
                        <div class="win-chance" id="winChance">Win chance: 50%</div>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Bet Amount</label>
                        <div class="bet-input-row">
                            <button class="bet-quick-btn" data-action="half">Â½</button>
                            <input type="number" class="bet-input" id="betAmount" value="10" min="1" step="1">
                            <button class="bet-quick-btn" data-action="double">2x</button>
                            <button class="bet-quick-btn" data-action="max">Max</button>
                        </div>
                    </div>

                    <div class="potential-win">
                        <span class="potential-label">Potential Win</span>
                        <span class="potential-amount" id="potentialWin">19.60</span>
                    </div>

                    <button class="btn-roll" id="rollBtn">
                        <span class="roll-text">Roll Dice</span>
                    </button>
                </section>
            </div>

            <!-- ======== ROULETTE GAME ======== -->
            <div class="game-panel" id="game-roulette">
                <!-- Round Timer -->
                <div class="round-timer" id="roundTimer">
                    <div class="timer-bar" id="timerBar"></div>
                    <span class="timer-text" id="timerText">Place your bets!</span>
                    <span class="timer-countdown" id="timerCountdown">15</span>
                </div>

                <!-- Wheel with ball -->
                <section class="roulette-arena">
                    <div class="roulette-result-info" id="rouletteResultInfo"></div>
                    <div class="roulette-wheel-outer" id="rouletteWheelOuter">
                        <div class="roulette-pointer"></div>
                        <div class="roulette-ball" id="rouletteBall"></div>
                        <div class="roulette-wheel" id="rouletteWheel"></div>
                        <div class="roulette-center">
                            <span class="roulette-number" id="rouletteNumber">?</span>
                        </div>
                    </div>
                </section>

                <!-- Previous results strip -->
                <div class="roulette-history-strip" id="rouletteHistoryStrip">
                    <span class="history-strip-label">Last:</span>
                    <div class="history-strip-numbers" id="historyStripNumbers"></div>
                </div>

                <!-- Chip selector -->
                <div class="chip-selector">
                    <span class="chip-label">Chip:</span>
                    <button class="chip-btn active" data-chip="1">1</button>
                    <button class="chip-btn" data-chip="5">5</button>
                    <button class="chip-btn" data-chip="10">10</button>
                    <button class="chip-btn" data-chip="25">25</button>
                    <button class="chip-btn" data-chip="50">50</button>
                    <button class="chip-btn" data-chip="100">100</button>
                </div>

                <!-- Roulette Board (generated by JS) -->
                <div class="roulette-board" id="rouletteBoard"></div>

                <!-- Placed bets summary -->
                <div class="placed-bets-panel" id="placedBetsPanel">
                    <div class="placed-bets-header">
                        <span class="placed-bets-title">Your Bets</span>
                        <span class="placed-bets-total" id="placedBetsTotal">0</span>
                        <button class="btn-clear-bets" id="clearBetsBtn">Clear All</button>
                    </div>
                    <div class="placed-bets-list" id="placedBetsList">
                        <span class="no-bets-text">Tap the board to place bets</span>
                    </div>
                </div>
            </div>
        </main>

        <!-- Deposit Modal -->
        <div class="modal-overlay hidden" id="depositModal">
            <div class="modal modal-deposit">
                <div class="modal-header">
                    <h2>Add playing scores</h2>
                    <button class="btn-icon modal-close" id="closeDeposit">&times;</button>
                </div>
                <div class="modal-body">
                    <p class="deposit-info">1 Telegram Star = 1,000 playing scores. Choose an amount:</p>
                    <div class="deposit-options">
                        <button type="button" class="deposit-option" data-stars="1">1 Star<br><span>1,000 scores</span></button>
                        <button type="button" class="deposit-option" data-stars="5">5 Stars<br><span>5,000 scores</span></button>
                        <button type="button" class="deposit-option" data-stars="10">10 Stars<br><span>10,000 scores</span></button>
                        <button type="button" class="deposit-option" data-stars="50">50 Stars<br><span>50,000 scores</span></button>
                    </div>
                </div>
            </div>
        </div>

        <!-- History Modal -->
        <div class="modal-overlay hidden" id="historyModal">
            <div class="modal">
                <div class="modal-header">
                    <h2>Game History</h2>
                    <button class="btn-icon modal-close" id="closeHistory">&times;</button>
                </div>
                <div class="modal-body" id="historyList">
                    <p class="empty-state">No games played yet</p>
                </div>
                <div class="modal-footer"></div>
            </div>
        </div>

        <footer class="footer">
            <p>Ludik Casino &mdash; Powered by Telegram Mini Apps</p>
        </footer>
    </div>

    <script src="js/app.js"></script>
</body>
</html>
